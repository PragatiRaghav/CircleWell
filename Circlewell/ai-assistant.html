<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Medical Vault ‚Äì AI Health Assistant</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ===============================
   GLOBAL BRAND STYLING
=================================*/
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Poppins',sans-serif;
}

body{
  background:linear-gradient(135deg,#0f2027,#1b5e63,#6a5acd);
  min-height:100vh;
  color:#fff;
  display:flex;
  justify-content:center;
  padding:30px;
}

.app-container{
  width:100%;
  max-width:1100px;
}

/* ===============================
   HEADER ‚Äì Secure Identity
=================================*/
.secure-header{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(20px);
  padding:20px 30px;
  border-radius:24px;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  margin-bottom:20px;
}

.status-badge{
  background:rgba(29,209,161,.15);
  padding:8px 14px;
  border-radius:50px;
  font-size:12px;
  display:flex;
  align-items:center;
  gap:6px;
}

.ai-status{
  font-size:12px;
  padding:6px 12px;
  border-radius:50px;
  background:#1dd1a1;
  color:#000;
}

/* ===============================
   CHAT CONTAINER
=================================*/
.chat-container{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(20px);
  border-radius:24px;
  padding:20px;
  height:550px;
  display:flex;
  flex-direction:column;
  box-shadow:0 20px 40px rgba(0,0,0,.3);
}

.chat-messages{
  flex:1;
  overflow-y:auto;
  padding-right:10px;
}

.message{
  max-width:75%;
  padding:14px 18px;
  border-radius:18px;
  margin-bottom:14px;
  animation:fadeIn .4s ease;
  font-size:14px;
  line-height:1.5;
  position:relative;
}

.ai{
  background:rgba(29,209,161,.15);
  align-self:flex-start;
}

.user{
  background:rgba(106,90,205,.25);
  align-self:flex-end;
}

.timestamp{
  font-size:10px;
  opacity:.6;
  margin-top:4px;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px);}
  to{opacity:1;transform:translateY(0);}
}

/* ===============================
   INPUT AREA
=================================*/
.chat-input{
  display:flex;
  gap:10px;
  margin-top:15px;
}

.chat-input input{
  flex:1;
  padding:12px 15px;
  border-radius:14px;
  border:none;
  outline:none;
}

.chat-input button{
  background:#1dd1a1;
  border:none;
  padding:12px 18px;
  border-radius:14px;
  cursor:pointer;
  font-weight:600;
  transition:.3s;
}

.chat-input button:hover{
  background:#17b897;
}

/* ===============================
   SUGGESTION CHIPS
=================================*/
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top:10px;
}

.chip{
  background:rgba(255,255,255,.12);
  padding:8px 14px;
  border-radius:50px;
  font-size:12px;
  cursor:pointer;
  transition:.3s;
}

.chip:hover{
  background:#1dd1a1;
  color:#000;
}

/* ===============================
   MINI CHART CARD
=================================*/
.chart-card{
  background:rgba(255,255,255,.1);
  padding:10px;
  border-radius:16px;
  margin-top:10px;
}

canvas{
  max-height:180px !important;
}

/* ===============================
   FOOTER SECURITY NOTICE
=================================*/
.footer-note{
  font-size:11px;
  opacity:.6;
  margin-top:10px;
}
 .back-btn{
  background:rgba(255,255,255,0.15);
  border:none;
  padding:10px 18px;
  border-radius:12px;
  cursor:pointer;
  font-size:14px;
  margin-bottom:15px;
  color:#fff;
  transition:.3s;
}

.back-btn:hover{
  background:#1dd1a1;
  color:#000;
}
</style>
</head>

<body>

<div class="app-container">

<!-- Secure Identity Header -->
 <button class="back-btn" onclick="goDashboard()">‚Üê Back to Dashboard</button>
<div class="secure-header">
  <div>
    <h3>Rajesh Sharma</h3>
    <p style="opacity:.7;">Patient ID: MV-IND-1003</p>
    <p style="font-size:12px;opacity:.6;">üîí End-to-end Encrypted | Medical Vault Protected</p>
  </div>
  <div>
    <div class="status-badge">AI Health Assistant</div>
    <div class="ai-status" id="aiStatus">Online</div>
  </div>
</div>

<!-- Chat Container -->
<div class="chat-container">

  <div class="chat-messages" id="chatMessages">
  </div>

  <div class="chips">
    <div class="chip" onclick="quickPrompt('Show my spending trend')">Show my spending trend</div>
    <div class="chip" onclick="quickPrompt('When should I reorder insulin?')">When should I reorder insulin?</div>
    <div class="chip" onclick="quickPrompt('Suggest cost-saving options')">Suggest cost-saving options</div>
  </div>

  <div class="chat-input">
    <input type="text" id="userInput" placeholder="Ask about your medical records...">
    <button onclick="sendMessage()">Send</button>
  </div>

  <div class="footer-note">
    ‚ö† This AI provides informational insights only and does not replace professional medical advice.
  </div>

</div>

</div>

<script>
const chat = document.getElementById("chatMessages");

function addMessage(text,type){
  const msg = document.createElement("div");
  msg.classList.add("message",type);
  msg.innerHTML = text + "<div class='timestamp'>" + new Date().toLocaleTimeString() + "</div>";
  chat.appendChild(msg);
  chat.scrollTop = chat.scrollHeight;
}

function typingIndicator(){
  const typing = document.createElement("div");
  typing.classList.add("message","ai");
  typing.id="typing";
  typing.innerHTML="Typing<span id='dots'>...</span>";
  chat.appendChild(typing);
  chat.scrollTop = chat.scrollHeight;
}

function removeTyping(){
  document.getElementById("typing")?.remove();
}

function sendMessage(){
  const input=document.getElementById("userInput");
  const text=input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";
  generateAIResponse(text);
}

function quickPrompt(text){
  document.getElementById("userInput").value=text;
  sendMessage();
}

function generateAIResponse(text){
  typingIndicator();
  document.getElementById("aiStatus").innerText="Processing...";
  
  setTimeout(()=>{
    removeTyping();
    document.getElementById("aiStatus").innerText="Online";

    if(text.toLowerCase().includes("spending")){
      addMessage(`
        üìä <strong>Spending Summary:</strong><br>
        Lifetime Spend: ‚Çπ14,25,600<br>
        Average Monthly: ‚Çπ1,18,800<br>
        Highest Month: February 2026 (‚Çπ1,45,000)<br>
        Reorder Rate: 74%<br>
        Your spending increased 8% over the last quarter.
        <div class="chart-card"><canvas id="miniChart"></canvas></div>
      `,"ai");

      setTimeout(()=>{
        new Chart(document.getElementById("miniChart"),{
          type:"line",
          data:{
            labels:["Oct","Nov","Dec","Jan","Feb"],
            datasets:[{
              data:[120000,130000,138000,142000,145000],
              borderColor:"#1dd1a1",
              fill:false,
              tension:.4
            }]
          },
          options:{plugins:{legend:{display:false}}}
        });
      },200);

    } else if(text.toLowerCase().includes("insulin")){
      addMessage(`
        üíä You last ordered <strong>Insulin Pen</strong> on 5 February 2026.<br>
        Based on your 30-day cycle, your next refill is due on 6 March 2026.
        <br><br>
        <button style="padding:8px 14px;border:none;border-radius:10px;background:#1dd1a1;cursor:pointer;">Reorder Now</button>
      `,"ai");

    } else if(text.toLowerCase().includes("cost")){
      addMessage(`
        üí∞ <strong>Cost Optimization Suggestions:</strong><br>
        ‚Ä¢ Switching to generic Metformin could save approx ‚Çπ1,200/month.<br>
        ‚Ä¢ Bulk purchase discount may reduce yearly spend by ‚Çπ8,500.<br>
        ‚Ä¢ Compare pharmacy rates before next reorder.
      `,"ai");

    } else {
      addMessage("I can help analyze your medical spending, prescriptions, and reorders. Please specify your request.","ai");
    }

  },1200);
}

addMessage("Hello Rajesh. I‚Äôm your AI Health Assistant. How may I help you today?","ai");
function goDashboard(){
  window.location.href = "dashboard.html";
}
</script>

</body>
</html>