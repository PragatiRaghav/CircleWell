<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CircleWell | Emergency Access</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Poppins',sans-serif;
}

body{
  min-height:100vh;
  background:linear-gradient(-45deg,#1e293b,#7f1d1d,#0f172a,#991b1b);
  background-size:400% 400%;
  animation:bgFlow 15s ease infinite;
  color:white;
}

@keyframes bgFlow{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.header{
  padding:30px 50px;
  font-size:28px;
  font-weight:700;
  background:rgba(0,0,0,0.4);
  backdrop-filter:blur(20px);
  border-bottom:1px solid rgba(255,255,255,0.1);
}

.container{
  padding:60px;
  max-width:900px;
  margin:auto;
}

.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(25px);
  padding:40px;
  border-radius:30px;
  border:1px solid rgba(255,255,255,0.15);
  position:relative;
  overflow:hidden;
}

.card::before{
  content:"";
  position:absolute;
  width:300px;
  height:300px;
  background:radial-gradient(circle,rgba(255,0,0,0.3),transparent 70%);
  top:-100px;
  right:-100px;
  animation:pulse 4s infinite;
}

@keyframes pulse{
  0%,100%{transform:scale(1);opacity:.5}
  50%{transform:scale(1.3);opacity:.9}
}

h2{
  font-size:32px;
  margin-bottom:20px;
  color:#f87171;
}

p{
  margin-bottom:30px;
  opacity:.9;
}

.options{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:20px;
  margin-bottom:30px;
}

.option{
  background:rgba(255,255,255,0.05);
  padding:20px;
  border-radius:20px;
  cursor:pointer;
  transition:.3s;
  text-align:center;
}

.option.active{
  border:2px solid #f87171;
  background:rgba(248,113,113,0.2);
}

.option:hover{
  transform:scale(1.05);
}

.expiry{
  margin-bottom:30px;
}

select{
  padding:10px 15px;
  border-radius:10px;
  border:none;
  outline:none;
}

.button{
  padding:15px 30px;
  border:none;
  border-radius:30px;
  background:linear-gradient(90deg,#ef4444,#dc2626);
  color:white;
  font-size:16px;
  cursor:pointer;
  transition:.3s;
}

.button:hover{
  transform:scale(1.1);
}

.status{
  margin-top:30px;
  padding:20px;
  background:rgba(0,0,0,0.4);
  border-radius:20px;
  display:none;
}

.code{
  font-size:28px;
  font-weight:700;
  margin:15px 0;
  letter-spacing:3px;
}

.revoke{
  margin-top:20px;
  background:white;
  color:#111;
}

.timer{
  font-size:14px;
  opacity:.8;
}
</style>
</head>

<body>

<div class="header">üö® Emergency Access Portal</div>
<div style="padding:20px 60px;">
  <a href="dashboard.html" style="color:#f87171;text-decoration:none;">
    ‚Üê Back to Dashboard
  </a>
</div>

<div class="container">

<div class="card">
  <h2>Activate Emergency Access</h2>
  <p>Select what you want to share during emergency situations. Access will expire automatically.</p>

  <div class="options">
    <div class="option" onclick="toggleOption(this)">Medical Reports</div>
    <div class="option" onclick="toggleOption(this)">Prescriptions</div>
    <div class="option" onclick="toggleOption(this)">Transactions</div>
    <div class="option" onclick="toggleOption(this)">Full Access</div>
  </div>

  <div class="expiry">
    <label>Access Duration: </label>
    <select id="duration">
      <option value="15">15 Minutes</option>
      <option value="60">1 Hour</option>
      <option value="1440">24 Hours</option>
    </select>
  </div>

  <button class="button" onclick="activateAccess()">Generate Emergency Code</button>

  <div class="status" id="statusBox">
    <h3>Emergency Access Active</h3>
    <div class="code" id="code"></div>
    <div class="timer" id="timer"></div>
    <button class="button revoke" onclick="revokeAccess()">Revoke Access</button>
  </div>

</div>

</div>

<script>
function toggleOption(el){
  el.classList.toggle("active");
}

let countdownInterval;

function activateAccess(){
  const code = Math.floor(100000 + Math.random() * 900000);
  document.getElementById("code").innerText = code;

  const duration = document.getElementById("duration").value;
  let timeLeft = duration * 60;

  document.getElementById("statusBox").style.display="block";

  clearInterval(countdownInterval);
  countdownInterval = setInterval(function(){
    if(timeLeft <= 0){
      revokeAccess();
      return;
    }
    let minutes = Math.floor(timeLeft / 60);
    let seconds = timeLeft % 60;
    document.getElementById("timer").innerText =
      "Expires in: " + minutes + "m " + seconds + "s";
    timeLeft--;
  },1000);
}

function revokeAccess(){
  clearInterval(countdownInterval);
  document.getElementById("statusBox").style.display="none";
  alert("Emergency Access Revoked");
}
</script>

</body>
</html>